% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{compute_path_sized_logit}
\alias{compute_path_sized_logit}
\title{Compute Path-Sized Logit}
\usage{
compute_path_sized_logit(
  paths1,
  paths2,
  no_dups,
  shortest_path,
  cost,
  cost_ks,
  d_ij,
  beta_PSL,
  flow,
  delta_ks,
  final_flows,
  free_delta_ks = TRUE
)
}
\arguments{
\item{paths1}{List of numeric vectors containing edge numbers for first part of paths.}

\item{paths2}{List of numeric vectors containing edge numbers for second part of paths.}

\item{no_dups}{Integer vector of path indices (1-based) that have no duplicate edges.}

\item{shortest_path}{Numeric vector of edge numbers for the shortest path.}

\item{cost}{Numeric vector of edge costs.}

\item{cost_ks}{Numeric vector of path costs for paths in no_dups.}

\item{d_ij}{Numeric scalar, cost of shortest path.}

\item{beta_PSL}{Numeric scalar, path-sized logit parameter.}

\item{flow}{Numeric scalar, flow value for this OD pair.}

\item{delta_ks}{Integer vector used as hash table (will be modified and reset).}

\item{final_flows}{Numeric vector of final flows (will be modified in place).}

\item{free_delta_ks}{Logical scalar (default: TRUE). If TRUE, resets delta_ks to zero after computation.}
}
\value{
Numeric vector of probabilities with length \code{length(no_dups) + 1}.
  The last element corresponds to the shortest path.
}
\description{
Efficiently compute path-sized logit probabilities and update flows.
}
\details{
This function efficiently computes:
\itemize{
  \item Updates delta_ks (edge usage counts) for all paths
  \item Computes gamma correction factors for path-sized logit
  \item Computes probabilities using exponential utility with path-sized correction
  \item Resets delta_ks to zero if \code{free_delta_ks} is TRUE
  \item Updates final_flows with weighted probabilities
}
}
