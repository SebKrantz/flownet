% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{melt_od_matrix}
\alias{melt_od_matrix}
\title{Melt Origin-Destination Matrix to Long Format}
\usage{
melt_od_matrix(od_matrix)
}
\arguments{
\item{od_matrix}{A numeric matrix with origin-destination flows. Row and column names
(if present) will be used as node IDs, coerced to integer if possible. If names are
not available or cannot be coerced to integer, sequential integers will be used.}
}
\value{
A data frame with columns:
  \itemize{
    \item \code{from} - Origin node ID (integer)
    \item \code{to} - Destination node ID (integer)
    \item \code{flow} - Flow value (numeric)
  }
  Only rows with finite, positive flow values are included.
}
\description{
Convert an origin-destination (OD) matrix to a long-format data frame
  with columns \code{from}, \code{to}, and \code{flow}.
}
\details{
This function:
\itemize{
  \item Extracts row and column names from the matrix (if available)
  \item Attempts to coerce names to integer; if not possible or names are missing,
    uses sequential integers from \code{seq_row()} and \code{seq_len(ncol())}
  \item Creates a long-format data frame with all origin-destination pairs
  \item Filters out non-finite and zero flow values
}

The function is useful for converting OD matrices (such as those in \code{\link{od_matrices_gcc}})
to the long format required by \code{\link[=run_assignment]{run_assignment()}}.
}
\seealso{
\code{\link{od_matrices_gcc}}, \code{\link[=run_assignment]{run_assignment()}}, \link{flowr-package}
}
