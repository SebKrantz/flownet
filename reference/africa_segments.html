<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Raw Network Segments for Trans-African Transport Network — africa_segments • flownet</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Raw Network Segments for Trans-African Transport Network — africa_segments"><meta name="description" content="A dataset containing 14,358 raw network segments representing intersected road routes
between African cities. Each segment is defined by start and end coordinates with
aggregate importance metrics. This dataset is provided to demonstrate how package
functions like consolidate_graph() and
simplify_network() can process messy segment data
into clean analytical networks like africa_network."><meta property="og:description" content="A dataset containing 14,358 raw network segments representing intersected road routes
between African cities. Each segment is defined by start and end coordinates with
aggregate importance metrics. This dataset is provided to demonstrate how package
functions like consolidate_graph() and
simplify_network() can process messy segment data
into clean analytical networks like africa_network."><meta property="og:image" content="https://sebkrantz.github.io/flownet/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flownet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://sebkrantz.github.io/Rblog/">Blog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SebKrantz/flownet" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Raw Network Segments for Trans-African Transport Network</h1>
      <small class="dont-index">Source: <a href="https://github.com/SebKrantz/flownet/blob/v0.1.3/R/data.R" class="external-link"><code>R/data.R</code></a></small>
      <div class="d-none name"><code>africa_segments.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A dataset containing 14,358 raw network segments representing intersected road routes
between African cities. Each segment is defined by start and end coordinates with
aggregate importance metrics. This dataset is provided to demonstrate how package
functions like <code><a href="consolidate_graph.html">consolidate_graph()</a></code> and
<code><a href="simplify_network.html">simplify_network()</a></code> can process messy segment data
into clean analytical networks like <code><a href="africa_network.html">africa_network</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">africa_segments</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame with 14,358 rows and 7 columns:</p><dl><dt>FX</dt>
<dd><p>Numeric. Start point longitude (range: -17.4 to 49.2).</p></dd>

  <dt>FY</dt>
<dd><p>Numeric. Start point latitude (range: -34.2 to 37.2).</p></dd>

  <dt>TX</dt>
<dd><p>Numeric. End point longitude (range: -17.0 to 49.1).</p></dd>

  <dt>TY</dt>
<dd><p>Numeric. End point latitude (range: -34.2 to 37.2).</p></dd>

  <dt>passes</dt>
<dd><p>Integer. Number of optimal inter-city routes passing through this segment.
    Range: 1 to 1,615, median: 46.</p></dd>

  <dt>gravity</dt>
<dd><p>Numeric. Sum of population gravity weights from routes using this segment.
    Computed as sum of (pop_origin * pop_destination / spherical_distance_km) / 1e9.</p></dd>

  <dt>gravity_rd</dt>
<dd><p>Numeric. Sum of road-distance-weighted gravity from routes.
    Computed as sum of (pop_origin * pop_destination / road_distance_m) / 1e9.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Derived from OpenStreetMap routing data via OSRM, processed through route intersection
and aggregation.</p>
<p>Dataset constructed for: Krantz, S. (2024). Optimal Investments in Africa's Road Network.
Policy Research Working Paper 10893. World Bank. <a href="https://doi.org/10.1596/1813-9450-10893" class="external-link">doi:10.1596/1813-9450-10893</a>
.
Replication materials: <a href="https://github.com/SebKrantz/OptimalAfricanRoads" class="external-link">https://github.com/SebKrantz/OptimalAfricanRoads</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This dataset represents an intermediate stage in network construction, after routes have been
intersected but before network simplification. The segments have been simplified using
<code><a href="linestrings_from_graph.html">linestrings_from_graph()</a></code> to retain only start and end coordinates.</p>
<p>The segments can be used to demonstrate the flownet network processing workflow:</p><ol><li><p>Convert segments to an sf LINESTRING object using <code><a href="linestrings_from_graph.html">linestrings_from_graph()</a></code></p></li>
<li><p>Apply <code><a href="consolidate_graph.html">consolidate_graph()</a></code> to merge nearby nodes</p></li>
<li><p>Apply <code><a href="simplify_network.html">simplify_network()</a></code> to remove intermediate nodes</p></li>
</ol><p>The <code>passes</code> field indicates how many optimal city-to-city routes use each segment,
serving as a measure of segment importance in the network. Higher values indicate
segments that are critical for efficient inter-city connectivity.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="africa_network.html">africa_network</a></code>, <code><a href="consolidate_graph.html">consolidate_graph()</a></code>,
  <code><a href="simplify_network.html">simplify_network()</a></code>, <code><a href="linestrings_from_graph.html">linestrings_from_graph()</a></code>,
  <a href="flownet-package.html">flownet-package</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">africa_segments</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">africa_segments</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          FX       FY        TX       TY passes  gravity gravity_rd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -17.44759 14.69386 -17.04861 14.70538     59 93.20669  67.218731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -17.44759 14.69386 -16.70998 14.40844      6 59.98582  45.491608</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -17.04861 14.70538 -16.70998 14.40844     48 61.68941  42.121072</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -17.04861 14.70538 -16.96602 14.72614     11 31.51728  25.097660</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 -17.03345 20.93362 -16.89503 21.28569     63  4.09779   2.981159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 -16.96602 14.72614 -16.63849 15.11222     10 20.13822  14.737626</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Summary statistics</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">africa_segments</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"passes"</span>, <span class="st">"gravity"</span>, <span class="st">"gravity_rd"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      passes          gravity            gravity_rd       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :   1.0   Min.   :   0.0001   Min.   :   0.0001  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:  14.0   1st Qu.:   3.9964   1st Qu.:   2.8740  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :  46.0   Median :  16.5966   Median :  11.4518  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   : 113.9   Mean   :  76.2857   Mean   :  53.9421  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.: 131.0   3rd Qu.:  64.4550   3rd Qu.:  43.4980  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :1615.0   Max.   :4144.5363   Max.   :3278.1380  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Segments with highest traffic</span></span></span>
<span class="r-in"><span><span class="va">africa_segments</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">africa_segments</span><span class="op">$</span><span class="va">passes</span><span class="op">)</span>, <span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             FX       FY       TX       TY passes  gravity gravity_rd</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 672   -0.43130 12.19363 -0.35795 12.18282   1615 654.6566   483.7826</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5829  -1.52978 12.36658 -1.52187 12.37092   1584 646.9655   478.4648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5830  -1.52187 12.37092 -1.51004 12.37915   1584 646.9655   478.4648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 649   -1.36024 12.43948 -1.26867 12.48558   1581 649.2992   480.4201</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 651   -1.26432 12.48681 -0.43130 12.19363   1574 645.7477   477.1712</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 647   -1.44519 12.39922 -1.37384 12.43304   1570 646.5881   478.1731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 641   -1.53359 12.36966 -1.52978 12.36658   1536 584.3362   435.5978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5713  -2.01904 12.19641 -1.75856 12.23416   1437 564.3777   415.2477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5714  -1.75503 12.23701 -1.63531 12.32471   1437 564.3777   415.2477</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13627 35.69371 -0.15936 35.70070 -0.16562   1395 496.1546   353.6817</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Convert to sf and plot</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">segments_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="linestrings_from_graph.html">linestrings_from_graph</a></span><span class="op">(</span><span class="va">africa_segments</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">segments_sf</span><span class="op">[</span><span class="st">"passes"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="africa_segments-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

