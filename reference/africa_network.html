<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Trans-African Road Transport Network — africa_network • flownet</title><!-- katex math --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script><script src="../katex-auto.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Trans-African Road Transport Network — africa_network"><meta name="description" content="A spatial dataset representing a discretized road transport network connecting major African cities
and ports. The network combines existing road infrastructure (2,344 edges) with proposed new links
(481 edges) identified through network efficiency analysis. Each edge contains distance, travel time,
border crossing costs, terrain characteristics, and road upgrade cost estimates."><meta property="og:description" content="A spatial dataset representing a discretized road transport network connecting major African cities
and ports. The network combines existing road infrastructure (2,344 edges) with proposed new links
(481 edges) identified through network efficiency analysis. Each edge contains distance, travel time,
border crossing costs, terrain characteristics, and road upgrade cost estimates."><meta property="og:image" content="https://sebkrantz.github.io/flownet/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">flownet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://sebkrantz.github.io/Rblog/">Blog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SebKrantz/flownet" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Trans-African Road Transport Network</h1>
      <small class="dont-index">Source: <a href="https://github.com/SebKrantz/flownet/blob/v0.2.0/R/data.R" class="external-link"><code>R/data.R</code></a></small>
      <div class="d-none name"><code>africa_network.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A spatial dataset representing a discretized road transport network connecting major African cities
and ports. The network combines existing road infrastructure (2,344 edges) with proposed new links
(481 edges) identified through network efficiency analysis. Each edge contains distance, travel time,
border crossing costs, terrain characteristics, and road upgrade cost estimates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A Simple feature collection (sf object) with 2,825 LINESTRING features and 28 fields:</p><dl><dt>from</dt>
<dd><p>Integer. Origin node index (1 to 1,377).</p></dd>

  <dt>to</dt>
<dd><p>Integer. Destination node index (2 to 1,379).</p></dd>

  <dt>from_ctry</dt>
<dd><p>Character. Origin country ISO3 code (49 countries).</p></dd>

  <dt>to_ctry</dt>
<dd><p>Character. Destination country ISO3 code (49 countries).</p></dd>

  <dt>FX</dt>
<dd><p>Numeric. Origin node longitude.</p></dd>

  <dt>FY</dt>
<dd><p>Numeric. Origin node latitude.</p></dd>

  <dt>TX</dt>
<dd><p>Numeric. Destination node longitude.</p></dd>

  <dt>TY</dt>
<dd><p>Numeric. Destination node latitude.</p></dd>

  <dt>sp_distance</dt>
<dd><p>Numeric. Spherical (great-circle) distance in meters.</p></dd>

  <dt>distance</dt>
<dd><p>Numeric. Road distance in meters from OSRM routing.</p></dd>

  <dt>duration</dt>
<dd><p>Numeric. Travel duration in minutes from OSRM routing (NA for proposed links).</p></dd>

  <dt>speed_kmh</dt>
<dd><p>Numeric. Average speed in km/h (distance/duration) (NA for proposed links).</p></dd>

  <dt>passes</dt>
<dd><p>Numeric. Number of optimal inter-city routes passing through this edge (NA for proposed links).</p></dd>

  <dt>gravity</dt>
<dd><p>Numeric. Sum of population gravity weights from routes using this edge (NA for proposed links).</p></dd>

  <dt>gravity_rd</dt>
<dd><p>Numeric. Sum of road-distance-weighted gravity from routes (NA for proposed links).</p></dd>

  <dt>border_dist</dt>
<dd><p>Numeric. Additional distance for border crossing in meters (0 for domestic links).</p></dd>

  <dt>total_dist</dt>
<dd><p>Numeric. Total distance including border crossing penalty in meters.</p></dd>

  <dt>border_time</dt>
<dd><p>Numeric. Additional time for border crossing in minutes.</p></dd>

  <dt>total_time</dt>
<dd><p>Numeric. Total travel time including border crossing in minutes.</p></dd>

  <dt>duration_100kmh</dt>
<dd><p>Numeric. Hypothetical travel time at 100 km/h in minutes.</p></dd>

  <dt>total_time_100kmh</dt>
<dd><p>Numeric. Hypothetical total time at 100 km/h including border penalties.</p></dd>

  <dt>rugg</dt>
<dd><p>Numeric. Terrain ruggedness index along the edge.</p></dd>

  <dt>pop_wpop</dt>
<dd><p>Numeric. Population within corridor (WorldPop data).</p></dd>

  <dt>pop_wpop_km2</dt>
<dd><p>Numeric. Population density per km2 along corridor.</p></dd>

  <dt>cost_km</dt>
<dd><p>Numeric. Estimated road construction/maintenance cost per km in USD.</p></dd>

  <dt>upgrade_cat</dt>
<dd><p>Character. Road upgrade category: "Nothing", "Asphalt Mix Resurfacing", "Mixed Works", "Upgrade", or NA.</p></dd>

  <dt>ug_cost_km</dt>
<dd><p>Numeric. Upgrade cost per km in USD.</p></dd>

  <dt>add</dt>
<dd><p>Logical. TRUE for proposed new links, FALSE for existing road network edges.</p></dd>

  <dt>geometry</dt>
<dd><p>LINESTRING. Spatial geometry in WGS 84 (EPSG:4326) coordinate reference system.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Road network derived from OpenStreetMap via OSRM routing.
Border crossing data from World Bank estimates.
Terrain data from SRTM elevation models.
Population data from WorldPop.</p>
<p>Dataset constructed for: Krantz, S. (2024). Optimal Investments in Africa's Road Network.
Policy Research Working Paper 10893. World Bank. <a href="https://doi.org/10.1596/1813-9450-10893" class="external-link">doi:10.1596/1813-9450-10893</a>
.
Replication materials: <a href="https://github.com/SebKrantz/OptimalAfricanRoads" class="external-link">https://github.com/SebKrantz/OptimalAfricanRoads</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The network was constructed through the following process:</p><ol><li><p>Computing optimal routes between all city pairs within 2,000km using OSRM</p></li>
<li><p>Filtering routes using network efficiency criteria (alpha = 45 degrees, EU-grade efficiency)</p></li>
<li><p>Intersecting and aggregating overlapping route segments</p></li>
<li><p>Contracting the network to reduce complexity while preserving connectivity</p></li>
<li><p>Identifying proposed new links that would improve network route efficiency</p></li>
<li><p>Adding border crossing costs based on country pairs</p></li>
<li><p>Computing terrain, population, and road cost attributes</p></li>
</ol><p>The <code>gravity</code> and <code>gravity_rd</code> fields measure edge importance based on the population
gravity model: routes between larger, closer cities contribute more weight to edges they traverse.</p>
<p>The bounding box spans continental Africa from approximately 34S to 37N latitude
and 17W to 49E longitude.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="africa_cities_ports.html">africa_cities_ports</a></code>, <code><a href="africa_segments.html">africa_segments</a></code>,
  <code><a href="africa_trade.html">africa_trade</a></code>, <a href="flownet-package.html">flownet-package</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 6 features and 28 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: LINESTRING</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: -17.44671 ymin: 14.34236 xmax: -16.24391 ymax: 15.63569</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geodetic CRS:  WGS 84</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   from to from_ctry to_ctry        FX       FY        TX       TY sp_distance</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    1  2       SEN     SEN -17.44671 14.69281 -17.04453 14.70297    43272.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    2  3       SEN     SEN -17.04453 14.70297 -16.63849 15.11222    63043.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    2  4       SEN     SEN -17.04453 14.70297 -16.46332 14.75651    62786.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    2  5       SEN     SEN -17.04453 14.70297 -16.42054 14.34236    78226.09</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    3  4       SEN     SEN -16.63849 15.11222 -16.46332 14.75651    43802.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    3 10       SEN     SEN -16.63849 15.11222 -16.24391 15.63569    71956.96</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   distance duration speed_kmh   passes     gravity  gravity_rd border_dist</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  65988.0    46.15  85.79155 104.3333 215.3302926 157.5228265           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  87290.5    72.25  72.49038  10.0000  20.1382178  14.7376257           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  89469.5    61.10  87.85876   1.5000  11.6420372  10.5577017           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  99998.0    72.90  82.30288  55.0000 122.2011739  88.0080152           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  61111.5    72.90  50.29753   1.0000   0.5259515   0.3953356           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  73391.0    61.20  71.95196  31.0000  23.0342955  16.8520354           0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   total_dist border_time total_time duration_100kmh total_time_100kmh      rugg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    65988.0           0      46.15         39.5928           39.5928 25203.645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    87290.5           0      72.25         52.3743           52.3743 23656.895</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    89469.5           0      61.10         53.6817           53.6817 25761.240</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4    99998.0           0      72.90         59.9988           59.9988 24773.338</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    61111.5           0      72.90         36.6669           36.6669 11331.973</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    73391.0           0      61.20         44.0346           44.0346  1745.889</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    pop_wpop pop_wpop_km2  cost_km             upgrade_cat ug_cost_km   add</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 670689.38    2262.9802 699437.0 Asphalt Mix Resurfacing   165533.4 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 191412.11     450.2150 605210.4             Mixed Works   325804.9 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 177027.86     415.0577 607229.6 Asphalt Mix Resurfacing   143711.0 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 137874.58     262.0664 581289.6 Asphalt Mix Resurfacing   137571.9 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  65316.04     216.0512 520634.9                 Upgrade   440804.2 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 102835.91     212.9464 415457.6             Mixed Works   223654.7 FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                         geometry</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 LINESTRING (-17.44671 14.69...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 LINESTRING (-17.04453 14.70...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 LINESTRING (-17.04453 14.70...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 LINESTRING (-17.04453 14.70...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 LINESTRING (-16.63849 15.11...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 LINESTRING (-16.63849 15.11...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Existing vs proposed links</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">$</span><span class="va">add</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> FALSE  TRUE </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  2344   481 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Cross-border links</span></span></span>
<span class="r-in"><span><span class="va">cross_border</span> <span class="op">&lt;-</span> <span class="va">africa_network</span><span class="op">[</span><span class="va">africa_network</span><span class="op">$</span><span class="va">from_ctry</span> <span class="op">!=</span> <span class="va">africa_network</span><span class="op">$</span><span class="va">to_ctry</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cross_border</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 457</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Upgrade categories</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">$</span><span class="va">upgrade_cat</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Asphalt Mix Resurfacing             Mixed Works                 Nothing </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     628                     901                       5 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Upgrade                    &lt;NA&gt; </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                     810                     481 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="co"># Plot by gravity</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">[</span><span class="st">"gravity_rd"</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Highlight proposed new links</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">africa_network</span><span class="op">[</span><span class="va">africa_network</span><span class="op">$</span><span class="va">add</span>, <span class="st">"geometry"</span><span class="op">]</span>, col <span class="op">=</span> <span class="st">"red"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="africa_network-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

